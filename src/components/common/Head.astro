---
import { getPersonalInfo } from "src/data/loaders/personal-info";

interface Props {
  title?: string;
  description?: string;
}

const { title, description }: Props = Astro.props;

const personalInfo = await getPersonalInfo();

const defaultTitle = `${personalInfo.name} - ${personalInfo.position}`;
const defaultDescription = personalInfo.description;

const pageTitle = title ? `${title} | ${personalInfo.name}` : defaultTitle;
const pageDescription = description ? description : defaultDescription;
---

<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0"
  />
  <meta
    name="generator"
    content={Astro.generator}
  />
  <meta
    name="description"
    content={pageDescription}
  />
  <meta
    name="keywords"
    content="desarrollador, software, backend, php, laravel"
  />
  <meta
    property="og:title"
    content={pageTitle}
  />
  <meta
    property="og:description"
    content={pageDescription}
  />
  <meta
    property="og:image"
    content="https://aleacosta.com/logo.jpg"
  />
  <meta
    property="og:image:width"
    content="400"
  />
  <meta
    property="og:image:height"
    content="400"
  />
  <meta
    property="og:url"
    content="https://aleacosta.com"
  />
  <meta
    name="twitter:title"
    content={pageTitle}
  />
  <meta
    name="twitter:description"
    content={pageDescription}
  />
  <meta
    name="twitter:image"
    content="https://aleacosta.com/logo.jpg"
  />
  <meta
    name="twitter:url"
    content="https://aleacosta.com"
  />
  <meta
    name="twitter:card"
    content="summary"
  />
  <link
    rel="shortcut icon"
    href="/favicon.ico"
  />
  <title>{pageTitle}</title>

  <!-- Add analytics -->
  <script
    is:inline
    defer
    src="https://analytics.aleacosta.com/script.js"
    data-website-id="b71992bd-1cf7-414d-8eac-e2a4949a9b35"
    data-domains="aleacosta.com"
  ></script>

  <!-- Add menu toggle -->
  <script src="../scripts/menu-toggle.ts"></script>
  <slot />
</head>
